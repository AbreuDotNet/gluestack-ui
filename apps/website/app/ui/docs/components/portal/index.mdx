import { CodePreviewer } from '@/components/custom/code-previewer';
import { Portal } from '@/components/ui/portal';
import { HStack } from '@/components/ui/hstack';
import { Text } from '@/components/ui/text';
import { Button, ButtonText, ButtonIcon } from '@/components/ui/button';
import { CloseIcon } from '@/components/ui/icon';

import { Tabs, TabItem } from '@/docs-components/tabs'
import {
  Table,
  TableHeader,
  TableCell,
  TableHeaderCell,
  TableBody,
  TableRow,
} from '@/docs-components/table'
import { InlineCode } from '@/docs-components/inline-code'
import { AnatomyImage } from '@/docs-components/anatomy-image'


# Portal

Learn how to use the Portal component in React and React Native to render content outside the DOM hierarchy. Explore installation, API reference, and props.


### This is an illustration of Portal component.

  #### Basic

  
  
  <CodePreviewer
  code={`function App() {
  const [visible, setVisible] = React.useState(false)
  const handleClose = () => setVisible(false)
  return (
    <>
      <Portal isOpen={visible} className="justify-center items-center">
        <HStack className="border-2 w-1/3 py-10 gap-4 rounded-lg flex-row justify-center items-center bg-background-0">
          <Text className="text-typography-950">Portal Content</Text>
          <Button
            size="xs"
            className="h-6 px-1 absolute top-2 right-2"
            variant="outline"
            onPress={handleClose}
          >
            <ButtonIcon as={CloseIcon} />
          </Button>
        </HStack>
      </Portal>
      <Button onPress={() => setVisible(!visible)}>
        <ButtonText>Toggle Portal</ButtonText>
      </Button>
    </>
  )
}`}
  argTypes={{}}
  reactLive={{ Portal, HStack, Text, Button, ButtonText, ButtonIcon, CloseIcon }}
/>

<br />


>Note: The portal component renders its children outside the parent component's DOM hierarchy. However, it is important to note that the portal component is created using React context. This means that the portal component will not work if the parent component is not wrapped in a `GluestackUIProvider` or `OverlayProvider`.

## Installation

<Tabs>
<TabItem label="CLI">
### Run the following command:
  ```bash
  npx gluestack-ui add portal
  ```
</TabItem>
<TabItem label="Manual">
### Step 1: Install the following dependencies:
```bash
npm i @gluestack-ui/overlay
```

### Step 2: Copy and paste the following code into your project.
```tsx
'use client';
import React from 'react';
import { Overlay } from '@/components/ui/overlay/creator';
import { cssInterop } from 'nativewind';

cssInterop(Overlay, { className: 'style' });

const Portal = React.forwardRef<
  React.ComponentRef<typeof Overlay>,
  React.ComponentProps<typeof Overlay>
>(function Portal({ ...props }, ref) {
  return <Overlay {...props} ref={ref} />;
});

Portal.displayName = 'Portal';

export { Portal };
 
```

### Step 3: Update the import paths to match your project setup.
</TabItem>
</Tabs>

## API Reference

To use this component in your project, include the following import statement in your file.

```ts
import { Portal } from '@/components/ui/portal';
```

```ts
export default () => <Portal />;
```

### Component Props

This section provides a comprehensive reference list for the component props, detailing descriptions, properties, types, and default behavior for easy project integration.

#### Portal

<Table>
<TableHeader>
  <TableRow>
    <TableHeaderCell>Prop</TableHeaderCell>
    <TableHeaderCell>Type</TableHeaderCell>
    <TableHeaderCell>Default</TableHeaderCell>
    <TableHeaderCell>Description</TableHeaderCell>
  </TableRow>
</TableHeader>
<TableBody>
  <TableRow>
    <TableCell><InlineCode>isOpen</InlineCode></TableCell>
    <TableCell>boolean</TableCell>
    <TableCell>-</TableCell>
    <TableCell>If true, the portal will open.</TableCell>
  </TableRow>
  <TableRow>
    <TableCell><InlineCode>isKeyboardDismissable</InlineCode></TableCell>
    <TableCell>boolean</TableCell>
    <TableCell>-</TableCell>
    <TableCell>If true, the keyboard can dismiss the portal.</TableCell>
  </TableRow>
  <TableRow>
    <TableCell><InlineCode>useRNModal</InlineCode></TableCell>
    <TableCell>boolean</TableCell>
    <TableCell>false</TableCell>
    <TableCell>If true, renders react-native native modal.</TableCell>
  </TableRow>
  <TableRow>
    <TableCell><InlineCode>useRNModalOnAndroid</InlineCode></TableCell>
    <TableCell>boolean</TableCell>
    <TableCell>false</TableCell>
    <TableCell>If true, renders react-native native modal only in android.</TableCell>
  </TableRow>
  <TableRow>
    <TableCell><InlineCode>onRequestClose</InlineCode></TableCell>
    <TableCell>{`((event: NativeSyntheticEvent<any>) => void) | undefined`}</TableCell>
    <TableCell>-</TableCell>
    <TableCell>Callback is called when the user taps the hardware back button on Android or the menu button on Apple TV. This is required on Apple TV and Android. Only applicable when `useRNModal` is true.</TableCell>
  </TableRow>
  <TableRow>
    <TableCell><InlineCode>animationPreset</InlineCode></TableCell>
    <TableCell>"fade" | "slide" | "none"</TableCell>
    <TableCell>"fade"</TableCell>
    <TableCell>The animation preset for the portal.</TableCell>
  </TableRow>
</TableBody>
</Table>

>Note: The portal component can be used to create a modal, popover, menu, tooltip, or any other component that needs to be rendered outside the parent component's DOM hierarchy. However, We recommend using our components like `Modal`, `Popover`, `Menu`, `Tooltip` for these use cases since they handle all the accessibility.